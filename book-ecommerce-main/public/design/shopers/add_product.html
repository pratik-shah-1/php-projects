<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shoper</title>
    <link rel="icon" href="assets/img/dark.jpg" type="image/gif" sizes="16x16">
    <!------------------ CSS FILES ------------------>
    <!-- Bootstrap v4.5.0 -->
    <!-- FontAwesome v5.13.1 -->
    <link rel="stylesheet" type="text/css" href="assets/lib/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="assets/lib/fontawesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/index.css">    
    <link rel="stylesheet" type="text/css" href="assets/lib/swiper/swiper-bundle.css">    
    
    <!------------------ JS FILES ------------------>
    <script type="text/javascript" src="assets/lib/jquery.js"></script>
    <script type="text/javascript" src="assets/lib/bootstrap/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="assets/lib/swiper/swiper-bundle.js"></script>
    <script type="text/javascript" src="assets/lib/sweetalert/sweetalert.min.js"></script>  
</head>
<body>


<!-- For Backlight -->
<div class='random'></div>

<!-- Header -->
<div class="header border-bottom">
    <!-- Sidenav Button---->
    <button class='shoper_sidenav_btn'><img src="./assets/img/ronaldo.jpg"></button>
    <!-- Side Navbar-------->
    <sidenav class='sidenav'>
        <ul>
            <li><img src='./assets/img/ronaldo.jpg'><p>Ronaldo</p></li>
            <li><a href='/shoper/account/'><i class='far fa-user'></i>Your Profile</a></li>
            <li><a href='/shoper/account/'><i class='fas fa-lock'></i>Change Password</a></li>
            <li><a href='/shoper/account/'><i class='fas fa-map-marker-alt'></i>Address</a></li>
            <li><a href='/shoper/account/'><i class='fas fa-user-friends'></i>Manage Customers</a></li>
            <li><a href='/shoper/account/'><i class='far fa-envelope'></i>Mails</a></li>
            <li><a href='/shoper/account/'><i class='far fa-trash-alt'></i>Delete Account</a></li>
            <li><a href='/shoper/signout/'><i class='fas fa-sign-out-alt'></i>Logout</a></li>
        </ul>
    </sidenav>
    
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg text-secondary shoper_nav">
        <button class="navbar-toggler ml-auto" data-toggle="collapse" data-target="#shoper_menu"><i class="fas fa-bars"></i></button>
        <div class="collapse navbar-collapse ml-auto" id="shoper_menu">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item mr-4">
                    <a class="nav-link" href="/shoper/product/add_form">Add Product</a></li>
                <li class="nav-item mr-4">
                    <a class="nav-link" href="/shoper/products">Products</a></li>
                <li class="nav-item mr-4">
                    <a class="nav-link" href="/shoper/orders">Orders</a></li>
                <li class='nav-item mr-4'>
                    <a class='nav-link' href='/shoper/signout'>
                        <i class='fas fa-sign-out-alt'></i>Logout</a></li>
                <!-- <li class='nav-item mr-4'><a class='nav-link' href='/shoper'>Login</a></li> -->
            </ul>
        </div>        
    </nav><!-- NavbarEnd Here.... -->
</div><!-- End Header -->

<script>

    $('.shoper_sidenav_btn').click(function(){
        $('.sidenav').addClass('show_sidenav');
        $('.random').addClass('backlight');
    });

    $('.random').click(function(){
        $('.sidenav').removeClass('show_sidenav');
        $('.random').removeClass('backlight');
    });

</script>


<main class="mt-2">
    <!-- Add Product_form -->
  <form id="add_book" action="/shoper/product/add" method="POST" enctype="multipart/form-data">
    <p>Add New Product</p>

    <!-- Section 1 -->
    <div class="section_one">
        <div>
          <label>Category</label>
          <select name="category">
            <option value="{{$i->category}}">Hello</option>
            <option value="{{$i->category}}">Hello</option>
            <option value="{{$i->category}}">Hello</option>
          </select>
        </div>
        <div class="adv_category d-none">
          <label>Field</label>
          <select name="field" disabled onchange="find_branch(this.value);">
            <option value="{{$i->field}}">BE</option>
          </select>
        </div>
        <div class="adv_category d-none">
          <label>Branch</label>
          <select name="branch" disabled>
            <option value="{{$i->branch}}">IT</option>          
            <option value="{{$i->branch}}">IT</option>          
            <option value="{{$i->branch}}">IT</option>          
          </select>
        </div>
        <div class="adv_category d-none">
          <label>STD / Semester</label>
          <select name="sem" disabled>
            <option value="{{$i->sem}}">2</option>
            <option value="{{$i->sem}}">2</option>
            <option value="{{$i->sem}}">2</option>
          </select>
        </div>
        <div class="d-flex flex-row justify-content-end">
          <button class="btn btn-primary next_btn">Next</button>
        </div>            
    </div>
    <!-- End of Section 1 -->

    <!-- Section 2 -->
    <div class="section_two d-none">
        <div>
          <label>Product Name</label>
          <input type="text" placeholder="Product Name" name="name" required>
        </div>
        <div>
          <label>Product ISBN</label><input type="text" placeholder="ISBN NO" name="isbn" required></div>
        <div>
          <label>Author</label><input type="text" placeholder="Author Name" name="author" required></div>
        <div>
          <label>Number of Pages</label><input type="text" placeholder="Number of Pages" name="pages" required></div>
        <div>
          <label>Description</label><textarea placeholder='Write a Product Descrition' name="details" required></textarea></div>
        <div>
          <label>Quantity</label><input type="text" placeholder="Quantity" name="quantity" required></div>
        <div>
          <label>Language</label><input type="text" placeholder="Language" name="lang" required></div>
        <div>
          <label>Images</label>
          <div class="custom-file m-0 ml-3">
            <input class="custom-file-input" type="file" id="p_img" name="img" accept="image/*" required>
            <label class="custom-file-label w-100" for="p_img">Choose Product Image</label>
          </div>
        </div>
        <div>
          <label>Price</label><input type="text" placeholder="Price of One Product" name="price" required></div>
        <div class="d-flex flex-row justify-content-between">
          <button class="btn btn-outline-primary prev_btn">Previous</button>
          <button class="btn btn-primary" name="add">ADD</button>
        </div>
      </div><!-- Section 2 -->
  </form><!-- Form of Add Book Container -->
</main>
<script type="text/javascript">

    const add_book = $('#add_book')[0];

    add_book.category.addEventListener('change',function(){
        if(this.value=='Education'){
            $('.adv_category').removeClass('d-none')
            add_book.field.removeAttribute('disabled');
            add_book.branch.removeAttribute('disabled');
            add_book.sem.removeAttribute('disabled');
        } 
        else{
            $('.adv_category').addClass('d-none')
            add_book.field.setAttribute('disabled','dis');
            add_book.branch.setAttribute('disabled','dis');
            add_book.sem.setAttribute('disabled','dis');
        }
    });

    $('.next_btn').click(function(e){
      e.preventDefault();
      $('.section_one').addClass('d-none');
      $('.section_two').removeClass('d-none');
    });
    
    $('.prev_btn').click(function(e){
      e.preventDefault();
      $('.section_one').removeClass('d-none');
      $('.section_two').addClass('d-none');
    });

    function find_branch(field_name){
      $.ajax({
        url:"/find_branch/"+field_name,
        method: "GET",
        success:function(data){
          const branch = JSON.parse(data);
          var input;
          for(let i=0;i<branch.length;i++){
            input += "<option value="+branch[i].branch+">"+branch[i].branch+"</option>";
          }
          $('[name="branch"]').html(input);
        }      
      });
    }

</script>  




</body>
</html>  