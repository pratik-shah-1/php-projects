<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Admin</title>    
    <link rel="icon" href="assets/img/dark.jpg" type="image/gif" sizes="16x16">
    <!------------------ CSS FILES ------------------>
    <!-- Bootstrap v4.5.0 -->
    <!-- FontAwesome v5.13.1 -->
    <link rel="stylesheet" type="text/css" href="assets/lib/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="assets/lib/fontawesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="assets/css/index.css">    
    <link rel="stylesheet" type="text/css" href="assets/lib/swiper/swiper-bundle.css">    
    <!------------------ JS FILES ------------------>
    <script type="text/javascript" src="assets/lib/splide.min.js"></script>
    <script type="text/javascript" src="assets/lib/jquery.js"></script>
    <script type="text/javascript" src="assets/lib/bootstrap/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="assets/lib/swiper/swiper-bundle.js"></script>
    <script type="text/javascript" src="assets/lib/sweetalert/sweetalert.min.js"></script>
</head>
<body>

<div class="random"></div>

<div class="sidenav">
    <ul>
        <li class="bg-dark h5 font-weight-normal"><p class="text-light"><span>Dashboard</span><i class="fas fa-tachometer-alt ml-2 "></i></p></li>
        <li><a href="/admin/users"><i class="text-warning fas fa-users"></i><span>Users</span></a></li>
        <li><a href="/admin/shopers"><i class="text-success fas fa-store"></i><span>Shopers</span></a></li>
        <li><a href="/admin/products"><i class="text-primary fas fa-swatchbook"></i><span>Products</span></a></li>
        <li><a href="/admin/orders"><i class="text-danger fas fa-shopping-bag"></i><span>Orders</span></a></li>
        <li><a href="/admin/product_category"><i class="fas fa-th text-success"></i><span>Product Category</span></a></li>
        <li><a href="/admin/coupons"><i class="text-primary fas fa-gifts"></i><span>Coupon Code</span></a></li>
        <li><a href="/admin/complaints"><i class="text-warning fas fa-exclamation"></i><span>Complaint</span></a></li>
        <li><a href="/admin/slider"><i class="far fa-images text-primary"></i><span>Offer Slider</span></a></li>
        <li><a href="#"><i class="text-secondary fas fa-layer-group"></i><span>Selling</span></a></li>
        <hr class="m-0 border-thin">
        <li><a href="/admin/signout"><i class="fas fa-sign-out-alt"></i><span>Logout</span></a></li>
    </ul>
</div>

<div class="admin_top shadow py-2 d-flex align-center justify-content-between">

    <button class="ml-3 admin_sidenav_btn"><i class="fas fa-bars text-dark"></i></button>
    <a href="/admin/" class="m-0 align-self-center"  style="text-decoration:none;">
        <p class="text-center text-dark align-self-center h4 font-weight-normal m-0">Welcome to Admin</p>
    </a>
    <div class="mr-3">
        <button  data-toggle="dropdown">
            <img src="./assets/img/ronaldo.jpg" alt="">
        </button>
        <div class="dropdown-menu">
            <a class="dropdown-item" href="/admin/profile/"><span>Profile</span></a>
            <hr class="m-0">
            <a class="dropdown-item" href="/admin/signout"><span>Logout</span></a>
        </div>
    </div>
</div>

<script>
    //Sidenavbar...
    $('.admin_sidenav_btn').click(function(){
        $('.sidenav').addClass('show_sidenav');
        $('.random').addClass('backlight');
        $('body').css('overflow','hidden');
    });

    //Closing Sidenavbar...
    $('.random').click(function(){
        $('.random').removeClass('backlight');
        $('.sidenav').removeClass('show_sidenav');
        $('.coupon_code_form').addClass('d-none');
        $('.add_field_form').addClass('d-none');
        $('body').css('overflow','auto');
    }); 
</script>


<div class="overflow-auto">
	<table class="table table-striped">
		<thead class="thead-dark">
			<th class="h5 font-weight-normal">Index</th>
			<th class="h5 font-weight-normal">Field Name</th>
			<th class="h5 font-weight-normal">Branch</th>
			<th class="h5 font-weight-normal">Action</th>
		</thead>
		<tbody>
			<tr>
				<td class="h5 font-weight-normal">1</td>
				<td class="h5 font-weight-normal">BE</td>
				<td class="h5 font-weight-normal">
					<select class="form-control">
						<option value="IT">IT</option>
						<option value="IT">IT</option>
						<option value="IT">IT</option>
					</select>
				</td>
				<td>
					<div class="d-flex">
						<button class="btn btn-warning" ><i class="fas fa-edit"></i></button>
						<a class="ml-2 btn btn-danger" href="/admin/edu_category/field/delete/"><i class="fas fa-times"></i></a>
					</div>
				</td>
			</tr>
			<tr>
				<td class="h5 font-weight-normal">1</td>
				<td class="h5 font-weight-normal">BE</td>
				<td class="h5 font-weight-normal">
					<select class="form-control">
						<option value="IT">IT</option>
						<option value="IT">IT</option>
						<option value="IT">IT</option>
					</select>
				</td>
				<td>
					<div class="d-flex">
						<button class="btn btn-warning" ><i class="fas fa-edit"></i></button>
						<a class="ml-2 btn btn-danger" href="/admin/edu_category/field/delete/"><i class="fas fa-times"></i></a>
					</div>
				</td>
			</tr>
			<tr>
				<td class="h5 font-weight-normal">1</td>
				<td class="h5 font-weight-normal">BE</td>
				<td class="h5 font-weight-normal">
					<select class="form-control">
						<option value="IT">IT</option>
						<option value="IT">IT</option>
						<option value="IT">IT</option>
					</select>
				</td>
				<td>
					<div class="d-flex">
						<button class="btn btn-warning" ><i class="fas fa-edit"></i></button>
						<a class="ml-2 btn btn-danger" href="/admin/edu_category/field/delete/"><i class="fas fa-times"></i></a>
					</div>
				</td>
			</tr>
		</tbody>
	</table>
</div>

<div class="add_field_form d-none">
	<!-- Title -->
	<div class="bg-dark">
		<h5 class="pl-3 text-light m-0" name='title'>Add New </h5>	
		<button class="btn add_field_form_close_btn"><i class="fas fa-times text-danger"></i></button>	
	</div>
	<!-- Form -->
	<form action="/admin/edu_category/field/action" method="POST">
		<!-- Field  -->
		<h6>Field</h6>
		<input type="text" placeholder="Field Name" name="field" required>
		<!-- Branches -->
		<h6>Branches</h6>
		<!-- Dynamiclly input field generated inside input_branch class -->
		<div class="input_branch"></div>
		<div>
		<!-- Add more button for more input field -->
			<span class="btn btn-outline-warning add_more_btn"><i class="fas fa-plus"></i></span>		
			<button class="btn btn-primary" name="btn">Submit</button>			
		</div>
	</form>
</div>

<button class="btn btn-primary rounded-circle position-fixed add_field_btn" style="bottom:30px;right:30px">
	<i class="fas fa-plus"></i>
</button>



<script>

	$('.add_field_btn').click(function(){
		$('.random').addClass('backlight');
		$('.add_field_form').removeClass('d-none');
		$('[name="title"]').html('Add New');
		$('[name="field"]').val('');
		$('.input_branch').html(`<input type='text' placeholder='Branch Name' name='branch[]' required> `);	
		$('[name="btn"]').html('ADD');
	});

	$('.add_field_form_close_btn').click(function(){
		$('.random').removeClass('backlight');
		$('.add_field_form').addClass('d-none');
	});

	$('.add_more_btn').click(function(){
		$('.input_branch').append(`<input type="text" placeholder="Branch Name" name='branch[]'>`);
		$('.add_field_form').animate({scrollTop: $('.add_field_form')[0].scrollHeight}, "slow");
	});

	function edit_field(id){
		$.ajax({
			url:'/admin/edu_category/field/view/'+id,
			method:"GET",
			success:function(data){
				const d = JSON.parse(data);
				var input = "<input class='d-none' type='text' name='id' value='"+id+"'>";
				for(let i=0;i<d.length;i++){
					input += "<input type='text' value='"+d[i].branch+"' name='branch[]'>"; 
				}
				$('.random').addClass('backlight');
				$('.add_field_form').removeClass('d-none');
				$('[name="title"]').html('Update Field and Branch');
				$('[name="field"]').val(d[0].field);
				$('.input_branch').html(input);
				$('[name="btn"]').html('UPDATE');
			}
		});

	}
</script>



</body>
</html>